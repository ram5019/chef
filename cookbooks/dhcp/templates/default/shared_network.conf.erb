# File managed by Chef

shared-network <%= @name %> {
  <% @subnets.each do |subnet| -%>
  <%= render 'subnet.erb', :cookbook => 'dhcp', :variables => {
          node: @node,
          subnet: subnet.subnet,
          netmask: subnet.netmask,
          broadcast: subnet.broadcast,
          routers: subnet.routers,
          options: subnet.options,
          pools: subnet.pools,
          evals: subnet.evals,
          key: subnet.key,
          zones: subnet.zones,
          ddns: subnet.ddns,
          next_server: subnet.next_server
        }
  %>
  <% end -%>
}
